# 目录

+ 计算机网络

## 计算机网络

### 概览

#### 计算机网络分层模型

| 名称（OSI七层模型（自上而下）） | 意义与作用 |
| --- | --- |
| 应用层（Application） |  |
| 表示层（Presentation）| |
| 会话层（Session）| |
| 传输层（Transport）| 提供可靠、高效的数据传输服务 |
| 网络层（Network）| 将数据分组送达到目标机 |
| 数据链路层（Link）| 差错检测和流量控制，提供有效、可靠的帧传输服务|
| 物理层（Physical）| 提供透明的比特流传输服务 |

#### 协议数据单元（PDU）

| 名称 | 所在层 |
| --- | --- |
| 信息流（Information） | 应用层 |
| 数据流（Data Stream） | 应用层、表示层、会话层 |
| 数据段（Segment） | 传输层 |
| 数据包（分组）（Packet） | 网络层 |
| 数据帧（Frame） | 数据链路层 |
| 比特流（信号）（Bits）| 物理层 |

### 物理层

#### 奈奎斯特定理与香农定理（用来描述数字带宽与物理带宽的关系）

数字带宽与物理带宽：

+ 数字带宽：单位时间内流经的信息总量
+ 物理带宽：信号在传输过程中振幅不会明显衰减的频率范围，取决于介质材料的构成、厚度、长度

奈奎斯特定理：

理想信道（无噪声信道）的最大传输速率（最大数字带宽）= 2Blog<sub>2</sub>V（bps）。
其中B为物理带宽（单位：Hz），V为信号离散等级；

香农定理：

噪声信道中最大传输速率 = Blog<sub>2</sub>(1 + S/N)（bps）。其中B为物理带宽（单位：Hz），
S/N为信噪比。如果信噪比为1000，那么换算成分贝后（分贝 = 10log<sub>10</sub>(S/N)（dB））
为30dB

#### 用户共享同一信道的技术

+ 频分复用（分为波分多路复用、密集型波分多路复用）
+ 时分复用（分为统计时分多路复用）
+ 码分复用
+ 波分复用

#### 码元、波特率（码率、符号率、采样率）、比特率等概念

码元：承载信息量的基本信号单位
二进制码元：数字通信中常用时间间隔相同的符号表示一个二进制数字

波特率（码率）：1秒中发送的码元个数，代表每秒中信号变化的次数，也可以称作符号率、采样率。采样率
与物理带宽的关系：采样率 = 2 * 物理带宽。

比特率：又叫位传输率、数据传输速率、数字带宽

比特率与波特率的关系：C = Blog<sub>2</sub>n
其中C为比特率，B为波特率，n为信号呈现的个数（信号级别）

#### 信号传输的方式

基带传输：信号的传输占据传输介质从0到最大值的全部频率（以太网），直接将数据比特转化为信号

通带传输：在某个频段上通过调节信号的频率、振幅、相位来传输比特

#### 信号编码的方式

不归零NRZ、不归零逆转NRZI、曼彻斯特编码、双极性编码

#### 信号基本调制方法

调频、调幅、调相

### 数据链路层

数据链路层包含逻辑链路控制（LLC）与介质访问控制（MAC）

介质访问控制：解决某一时刻由哪个工作站共享信道的问题

#### 数据帧

数据帧包括帧头、载荷（上层传输来的数据包）、帧尾（校验帧）

#### 成帧方法

+ 字符计数法
+ 字节填充的标记字节法（填充转义符）
+ 比特填充的标记比特法
+ 物理层编码违例法

#### 检错方法

+ 奇偶校验法
+ 互联网校验法
+ 循环冗余校验法

#### 滑动窗口协议、回退N帧协议、选择性重传协议（分别对应协议4~6）

滑动窗口协议：用于批量传输数据帧（发送窗口为1，接收窗口为1）

回退N帧协议：当批量传输发生错误时，可以选择重传发生错误的帧及后续所有的帧（发送窗口不超过最大
序列号，接收窗口为1）

选择性重传协议：当批量传输发生错误时，只重传发生错误的帧，其他已发送且成功接收的帧缓存在接收方
（发送窗口不超过接收窗口，接收窗口等于（最大序列号 + 1） / 2）

#### 数据通信方式

单播、广播、组播

#### 以太网

以太网包括经典以太网和交换式以太网，是多路访问协议的实现

#### 网桥（交换机）

网桥将不同的LAN段连在一起，MAC地址表是网桥通过逆向地址学习自动建立、更新与维护的。

二层交换的基本原理是三选一决策：广播（泛洪、扩散）、转发、过滤

网桥/交换机隔离了冲突，是冲突域的边界

交换机的三种交换方式：存储转发、直通交换、无分片交换

### 网络层

#### 数据报网络与虚电路网络

数据报网络提供无连接的服务，虚电路网络提供面向连接的服务

#### ARP协议

地址解析协议，根据 IP 地址查找对应的物理地址（MAC地址），局域网内每台主机都维护一张 ARP 缓存表，表示 IP 地址到 MAC 地址的映射关系。

#### IP协议

IP协议提供了一种“尽力而为”的数据传输服务。IP地址用以标识源机和目的机。

5类IP地址：A类（0\~127）、B类（128\~191）、C类（192~223）、D类（224~239）、E类（240~255）

保留地址（不可用地址）：

+ 全零地址（0.0.0.0）
+ 泛洪地址（255.255.255.255）
+ 网络地址（主机位全为0）
+ 广播地址（主机位全为1）
+ 环回地址（127.X.X.X）

#### 子网掩码

决定数据分组往哪个子网转发，可以用点分十进制或/网络位的形式表示

#### 构成超网

利用无类别域间路由（CIDR）地址块查找网络地址，也称路由聚合

#### ICMP协议（Internet Control Message Protocol）

互联网控制消息协议，允许主机或者路由器向发送者报告差错情况或者异常报告，以便发送者进行补偿行为

#### IGMP协议（Internet Group Management Protocol）

网路群组管理协议，IP 主机与相邻路由器可以利用 IGMP 建立多播组的组成员

#### IPv4到IPv6的转换方式

双栈、隧道和转换

#### 路由表的类型

直连路由、静态路由、动态路由

### 传输层

#### 包含的主要协议

传输控制协议（TCP）：负责将TCP数据段可靠地送达目的端

用户数据报协议（UDP）：提供端到端的高效的数据段传输，不提供数据传输的可靠性保证

#### TCP三次握手中初始序列号的作用

交换初始序列号，保证后续每个字节的可靠传输

#### TCP四次挥手中发送方关闭连接前为何要等待2MSL

发送方在关闭连接之前之所以要设置2 MSL（Maximum Segment Lifetime）（单个 MSL 一般为2分钟）的 TIME-WAIT 态是因为两个原因：

1、保证接收方能在该时间段内接收到最后的关闭确认报文段，如果没有收到，则要进行超时重发 FIN + ACK 报文段。

2、确保本次连接内的报文段都已从网络消失，保证下一次建立新的连接后不会有旧的连接请求报文段。

#### TCP可靠传输原理

停止等待协议，每发送完一个数据单元就会等待接收方确认。若因为没有接收确认到或者延迟接收到确认会一直等待，解决该问题的方式为超时重传。针对只是丢失确认的情况，重传之后需要接收方抛弃原来接收的数据；针对延迟，重传之后发送方要丢弃延迟到达的确认，不做任何处理。

基本的停止等待协议一次只会发送一个数据单元，信道利用率低。因此可采用流水线式传输，一次发送多个数据单元。当采用流水线式传输时，为保证可靠性传输，需要连续 ARQ 自动重传请求协议（Automatic Repeat reQuest）以及滑动窗口协议的配合使用。

#### TCP拥塞控制机制

+ 慢启动过程（由开始的一个数据段的传输逐步以指数级增长，不断试探网络的拥塞程度，直到达到传输阈值，使网络拥塞）

+ 拥塞避免过程（传输不可能无限指数级增长，达到拥塞阈值后，改为线性增长传输）

+ 快速重传（发送方每次发送时都会启动一个超时计时器，超时没收到确认视为丢失，重新发送）

+ 快速恢复（在快速重传的过程中，仍然会启动一个超时计时器，如果顺利收到确认，则进入拥塞避免过程，改为线性传输；若仍然超时，则重新回到慢启动阶段）

### 应用层

+ DNS协议（Domain Name System）

顶级域名（cn,com,net,org,gov...）
二级域名（edu,cctv...）
三级域名（www,mail...）
四级域名

+ FTP协议（File Transfer Protocol）

文件传输协议，允许用户指明文件类型与格式，并获得文件的存储权限。一个FTP进程包括一个主进程加多个附加子进程，分别负责接收新的请求与处理多个请求，保证一个 FTP 服务器可以同时服务多个客户端

+ Telnet协议

远程终端协议，又名终端仿真协议，为用户提供了本地计算机访问远程计算机的能力，是因特网远程登录的标准协议与主要方式

+ Http协议（Hyper Text Tranfer Protocol）

超文本传输协议，定义了浏览器如何向万维网请求资源，以及服务器如何将资源返回到浏览器

+ DHCP协议（Dynamic Host Configuration Protocol）

动态主机配置协议，提供了一种即插即用联网的机制，采用默认配置即可完成联网，从而省去手动配置 ip 地址，子网掩码，路由配置，DNS 配置等等的麻烦

